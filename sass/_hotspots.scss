/* 3D hotspots (Cupertino/glassy) */

/* Core */
model-viewer .Hotspot{
  position:absolute; transform:translate(-50%,-50%);
  width:var(--hs-ring); height:var(--hs-ring);
  background:transparent; border:0; padding:0; cursor:pointer; outline:none;
  -webkit-tap-highlight-color:transparent;
}

/* Center dot + glow */
model-viewer .Hotspot::before{
  content:""; position:absolute; left:50%; top:50%;
  width:var(--hs-dot); height:var(--hs-dot); transform:translate(-50%,-50%); border-radius:50%;
  background: color-mix(in oklab, var(--hs-color) 85%, white 15%);
  box-shadow:
    0 0 0 5px color-mix(in oklab, var(--hs-color) 22%, transparent),
    0 0 22px 10px color-mix(in oklab, var(--hs-color) 55%, transparent);
  transition: box-shadow .25s ease, transform .22s ease;
}

/* Breathing halo */
@keyframes hs-breathe{
  0%,100%{ transform:translate(-50%,-50%) scale(.72); opacity:.85; }
  50%    { transform:translate(-50%,-50%) scale(.9);  opacity:.35; }
}
model-viewer .Hotspot::after{
  content:""; position:absolute; left:50%; top:50%;
  width:calc(var(--hs-ring) + 8px); height:calc(var(--hs-ring) + 8px);
  transform:translate(-50%,-50%) scale(.72); border-radius:50%;
  box-shadow: inset 0 0 0 1px color-mix(in oklab, var(--hs-color) 45%, transparent);
  opacity:.85; pointer-events:none; animation: hs-breathe 2.6s ease-in-out infinite;
}

/* Hover/focus */
model-viewer .Hotspot:hover::before,
model-viewer .Hotspot:focus-visible::before{
  box-shadow:
    0 0 0 7px color-mix(in oklab, var(--hs-color) 25%, transparent),
    0 0 28px 12px color-mix(in oklab, var(--hs-color) 70%, transparent);
  transform:translate(-50%,-50%) scale(1.08);
}
model-viewer .Hotspot:hover::after,
model-viewer .Hotspot:focus-visible::after{ animation-duration:1.3s; }

/* Label (glassy card) */
model-viewer .Hotspot .HotspotAnnotation{
  position:absolute; left:18px; top:-16px;
  padding:8px 12px; border-radius:12px;
  background:var(--hs-glass-bg); border:1px solid var(--hs-glass-brd);
  -webkit-backdrop-filter: blur(10px) saturate(120%); backdrop-filter: blur(10px) saturate(120%);
  box-shadow:var(--hs-shadow); color:#000; letter-spacing:.02em; white-space:nowrap;
  font: 600 12px/1.2 "SF Pro Display", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  opacity:0; transform:translateY(6px); transition:opacity .22s ease, transform .22s ease; pointer-events:none;
}
model-viewer .Hotspot:hover .HotspotAnnotation,
model-viewer .Hotspot:focus-visible .HotspotAnnotation{ opacity:1; transform:translateY(0); }

/* Flip label to left when needed */
model-viewer .Hotspot[data-dir="left"] .HotspotAnnotation{ left:auto; right:18px; text-align:right; }

/* Icon + label combo */
.Hotspot .HotspotAnnotation { display:inline-flex; align-items:center; gap:10px; }
.Hotspot .icon-wrap{
  position:relative; width:22px; height:22px; flex:0 0 auto; display:grid; place-items:center;
  animation: iconFloat 4.5s ease-in-out infinite; filter: drop-shadow(0 0 0 rgba(160,190,255,.0));
}
.Hotspot .icon-wrap img{ display:block; width:100%; height:100%; }

/* gentle float */
@keyframes iconFloat{ 0%,100%{ transform:translateY(0) } 50%{ transform:translateY(-2px) } }

/* soft glow pulse */
.Hotspot .icon-wrap::after{
  content:""; position:absolute; inset:-2px; border-radius:8px;
  box-shadow:0 0 10px rgba(160,190,255,.22); opacity:0; animation: iconGlow 2.2s ease-in-out infinite;
  pointer-events:none;
}
@keyframes iconGlow{ 0%,100%{ opacity:0 } 50%{ opacity:.8 } }

/* focus/hover pop */
.Hotspot:hover .icon-wrap,
.Hotspot:focus-visible .icon-wrap{
  animation-duration:2.8s; transform: translateY(-1px) scale(1.04);
  filter: drop-shadow(0 0 12px rgba(160,190,255,.28));
}

/* label text */
.Hotspot .label-block{ display:grid; gap:2px; }
.Hotspot .label-block strong{ font:700 12px/1 "SF Pro Display", system-ui, sans-serif; letter-spacing:.04em; }
.Hotspot .label-block span{ font:500 11px/1.35 "SF Pro Display", system-ui, sans-serif; color:#000000; margin-left:12px; }

/* Reduced motion just for icon pulses */
@media (prefers-reduced-motion: reduce){
  .Hotspot .icon-wrap,
  .Hotspot .icon-wrap::after{ animation:none !important; }
  .Hotspot:hover .icon-wrap,
  .Hotspot:focus-visible .icon-wrap{ transform:none; }
}
