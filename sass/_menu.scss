/* Pill trigger + dots */
.menu-toggle{
  display:flex; 
  align-items:center; 
  justify-content:space-between; 
  gap:12px;
  width:min(var(--menuW), 92vw); 
  height:50px; 
  padding:0 20px; 
  border-radius:12px;
  letter-spacing:.06em; 
  text-transform:uppercase; 
  color:#e9edf6;
  background:rgba(173,173,173,.185); 
  border:none;
  -webkit-backdrop-filter: blur(10px); 
  backdrop-filter: blur(10px);
  cursor:pointer;
  position: relative;
  z-index: 61;              /* panel is 60; keep trigger above */
  pointer-events: auto;
}

.menu-dots{
  display:grid; grid-template-columns:repeat(3,6px); grid-auto-rows:6px; gap:5px; margin-left:8px;
}
.menu-dots i{ width:3px; height:3px; border-radius:50%; background:rgba(255,255,255,.8); display:block; }

/* Star-chase animation */
@keyframes starChase{
  0%{opacity:0; transform:scale(1);}
  8%{opacity:1; transform:scale(var(--blink-scale));}
  24%{opacity:.12; transform:scale(1.02);}
  32%,100%{opacity:0; transform:scale(1);}
}
.menu-toggle:not(:hover) .menu-dots i{ opacity:1; animation:none; transform:scale(1); transition:opacity .22s var(--chase-ease); }
.menu-toggle:hover .menu-dots i{
  opacity:0; animation: starChase var(--chase-dur) var(--chase-ease) infinite both; will-change:opacity,transform;
}
.menu-dots i:nth-child(1){ animation-delay: calc(var(--chase-start) + 0 * -0.2s); }
.menu-dots i:nth-child(2){ animation-delay: calc(var(--chase-start) + 1 * -0.2s); }
.menu-dots i:nth-child(3){ animation-delay: calc(var(--chase-start) + 2 * -0.2s); }
.menu-dots i:nth-child(4){ animation-delay: calc(var(--chase-start) + 3 * -0.2s); }
.menu-dots i:nth-child(5){ animation-delay: calc(var(--chase-start) + 4 * -0.2s); }
.menu-dots i:nth-child(6){ animation-delay: calc(var(--chase-start) + 5 * -0.2s); }

/* Drawer + panel */
.menu-drawer[hidden]{ display:none; }
.menu-scrim{
  position:fixed; inset:0; background:rgba(0,0,0,.35);
  opacity:0; transition:opacity .25s ease; z-index:59;
}
.menu-drawer.open .menu-scrim{ opacity:1; }

.menu-panel{
  position:fixed; top:12px; width:min(var(--menuW), 92vw);
  max-height:min(78vh,800px); overflow:auto; display:flex; flex-direction:column;
  padding:18px 20px; background:rgba(18,24,34,.55);
  border:1px solid rgba(255,255,255,.12);
  -webkit-backdrop-filter: blur(14px); backdrop-filter: blur(14px);
  box-shadow:0 10px 30px rgba(0,0,0,.35);
  transform-origin:100% 0%; transform:translateY(0) scaleY(.06);
  border-radius:12px; opacity:0; z-index:60;
  transition: transform .22s cubic-bezier(.22,.61,.36,1), opacity .16s ease, border-radius .22s ease;
}
.menu-drawer.open .menu-panel{ transform:translateY(0) scaleY(1); opacity:1; border-radius:22px; }

.menu-header{
  display:flex; align-items:center; justify-content:space-between;
  padding-bottom:18px; margin-bottom:18px; border-bottom:1px solid rgba(255,255,255,.08);
}
.close{ background:transparent; border:0; color:#cdd7e6; font-size:18px; cursor:pointer; }

/* Nav inside drawer */
.site-nav{ margin:8px 0 18px; }
.site-nav ul{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:14px; }
.site-nav a{ display:block; color:#e9edf6; opacity:.25; transition:opacity .2s ease; }
.site-nav li.active a{ opacity:1; }
.site-nav a:hover{ opacity:.6; }
.site-nav .bullet{ margin-right:10px; color:#a9b6ff; font-weight:100; }

/* CTA */
.menu-cta{
  margin-top:auto; height:52px; border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.08); color:#dde6f7;
  -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px);
  box-shadow:0 10px 30px rgba(0,0,0,.35); cursor:pointer;
}
